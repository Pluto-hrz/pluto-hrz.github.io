<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>1、设置用户和组--Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/1%E3%80%81%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84-Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/1%E3%80%81%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84-Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：登录远程服务器"><a href="#第一步：登录远程服务器" class="headerlink" title="第一步：登录远程服务器"></a>第一步：登录远程服务器</h2><h5 id="方法一：在浏览器进行登录"><a href="#方法一：在浏览器进行登录" class="headerlink" title="方法一：在浏览器进行登录"></a>方法一：在浏览器进行登录</h5><ul><li>在实例列表中找到相应的服务器，然后在远程连接中选择VNC打开管理终端。<a href="https://upload-images.jianshu.io/upload_images/19858366-f441fcc66c428d7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="实例列表" class="fancybox"><img alt="实例列表" title="实例列表" data-src="https://upload-images.jianshu.io/upload_images/19858366-f441fcc66c428d7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li><li>打开管理终端后，记住初始密码，并输入初始密码进入管理终端，输入账号root再输入密码即可以root用户的身份登录远程服务器，最后可以使用命令<code>exit</code>退出登录。<a href="https://upload-images.jianshu.io/upload_images/19858366-155a9e3744457cbd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="浏览器登录远程服务器" class="fancybox"><img alt="浏览器登录远程服务器" title="浏览器登录远程服务器" data-src="https://upload-images.jianshu.io/upload_images/19858366-155a9e3744457cbd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h5 id="方法二：在本地进行登录-需要查看电脑是否安装OpenSSH客户端"><a href="#方法二：在本地进行登录-需要查看电脑是否安装OpenSSH客户端" class="headerlink" title="方法二：在本地进行登录(需要查看电脑是否安装OpenSSH客户端)"></a>方法二：在本地进行登录(需要<a href="https://www.jianshu.com/p/efa0e0d71637" target="_blank" rel="noopener">查看电脑是否安装OpenSSH客户端</a>)</h5><ul><li>按住键盘<code>win + R</code>键然后输入<code>powershell</code>进入PowerShell输入<code>ssh root@你的公网ip</code>然后输入密码即可以root用户的身份登录远程服务器。<a href="https://upload-images.jianshu.io/upload_images/19858366-82ef2059df2bdd48.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="本地登录远程服务器" class="fancybox"><img alt="本地登录远程服务器" title="本地登录远程服务器" data-src="https://upload-images.jianshu.io/upload_images/19858366-82ef2059df2bdd48.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第二步：创建用户和组"><a href="#第二步：创建用户和组" class="headerlink" title="第二步：创建用户和组"></a>第二步：创建用户和组</h2><ul><li>通过命令<code>groupadd adminuser</code>创建adminuser组。</li><li>然后通过命令<code>useradd learn -g adminuser</code>创建用户learn并将用户learn添加至adminuser组中。</li><li>最后通过命令<code>passwd learn</code>进行用户learn密码的设置，输入两遍密码后，密码便设置完成。</li><li>最后使用命令<code>exit</code>退出登录，然后登录新的用户进行登录。<a href="https://upload-images.jianshu.io/upload_images/19858366-6d3a61059bc68b95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="创建用户和组" class="fancybox"><img alt="创建用户和组" title="创建用户和组" data-src="https://upload-images.jianshu.io/upload_images/19858366-6d3a61059bc68b95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第三步：修改新用户的权限-使用root用户操作"><a href="#第三步：修改新用户的权限-使用root用户操作" class="headerlink" title="第三步：修改新用户的权限(使用root用户操作)"></a>第三步：修改新用户的权限(使用root用户操作)</h2><ul><li><p>首先输入命令<code>cd /etc</code>切换路径至<code>/etc</code>路径下，并通过ls命令显示该路径文件夹下的所有内容，然后通过命令<code>vim sudoers</code>进入<code>sudoers</code>文件。<a href="https://upload-images.jianshu.io/upload_images/19858366-ff06ef6da5c32d66.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="/etc/路径下文件" class="fancybox"><img alt="/etc/路径下文件" title="/etc/路径下文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-ff06ef6da5c32d66.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>进去<code>sudoers</code>文件后找到root一行，按i键进入编辑模式，在root的下一行添加<code>learn  ALL=(ALL)  ALL</code>这一行代码，然后按<code>Esc</code>退出编辑模式。<a href="https://upload-images.jianshu.io/upload_images/19858366-e33742d82a06ae35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="sudoers文件" class="fancybox"><img alt="sudoers文件" title="sudoers文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-e33742d82a06ae35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>并按<code>Shift + ；</code>键，并输入<code>wq!</code>按回车键即可强制保存并退出文件。<a href="https://upload-images.jianshu.io/upload_images/19858366-26fcdeb05dec5d1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="强制保存并退出文件" class="fancybox"><img alt="强制保存并退出文件" title="强制保存并退出文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-26fcdeb05dec5d1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第四步：禁止root账号进行ssh远程登录"><a href="#第四步：禁止root账号进行ssh远程登录" class="headerlink" title="第四步：禁止root账号进行ssh远程登录"></a>第四步：禁止root账号进行ssh远程登录</h2><ul><li><p>首先输入命令<code>cd /etc/ssh</code>切换路径至<code>/etc/ssh</code>路径下，并通过<code>ls</code>命令显示该路径文件夹下的所有内容，然后通过命令<code>vim sshd_config</code>进入<code>sshd_config</code>文件。<a href="https://upload-images.jianshu.io/upload_images/19858366-2613b41264c589f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="/ssh/路径下文件" class="fancybox"><img alt="/ssh/路径下文件" title="/ssh/路径下文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-2613b41264c589f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>进去<code>sshd_config</code>文件后找到<code>#PermitRootLogin yes</code>一行代码，按i键进入编辑模式，并将本行代码修改为<code>PermitRootLogin no</code>，注意别忘了去掉#号，然后按<code>Esc</code>退出编辑模式。<a href="https://upload-images.jianshu.io/upload_images/19858366-565288addb51576d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="sshd_config文件" class="fancybox"><img alt="sshd_config文件" title="sshd_config文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-565288addb51576d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>并按<code>Shift + ；</code>键，并输入<code>wq</code>按回车键即可保存并退出文件。</p></li><li><p>修改完配置文件后，需要通过命令<code>systemctl restart sshd.service</code>重启sshd服务，然后<code>exit</code>退出登录，重新使用root账号登录会发现登陆请求被拒绝，让我们重新输入密码。重新输入密码后请求仍会被拒绝，所以我们可以使用<code>Ctrl + C</code>键终止当前命令。<a href="https://upload-images.jianshu.io/upload_images/19858366-d17d9b9790869391.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="重启配置文件并测试" class="fancybox"><img alt="重启配置文件并测试" title="重启配置文件并测试" data-src="https://upload-images.jianshu.io/upload_images/19858366-d17d9b9790869391.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>此时，我们便成功禁止了root账号进行ssh远程登录，但我们仍可以通过我们刚才创建的用户learn进行登录操作。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2、设置登录证书——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/2%E3%80%81%E8%AE%BE%E7%BD%AE%E7%99%BB%E5%BD%95%E8%AF%81%E4%B9%A6%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/2%E3%80%81%E8%AE%BE%E7%BD%AE%E7%99%BB%E5%BD%95%E8%AF%81%E4%B9%A6%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：创建证书-公钥文件和私钥文件"><a href="#第一步：创建证书-公钥文件和私钥文件" class="headerlink" title="第一步：创建证书(公钥文件和私钥文件)"></a>第一步：创建证书(公钥文件和私钥文件)</h2><ul><li><p>直接打开PowerShell(不用登录ssh)，输入命令<code>ls</code>(如果为Mac用户，输入<code>ls</code>仅显示一般文件，需要输入<code>ls -a</code>才能显示隐藏文件)，我们会发现存在文件<code>.ssh</code>，如果没有<code>.ssh</code>文件则需要通过命令<code>mkdir .ssh</code>创建.ssh文件，如果存在<code>.ssh</code>文件则忽略该操作。<a href="https://upload-images.jianshu.io/upload_images/19858366-efd6ed52a0a43d80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="查看.ssh文件" class="fancybox"><img alt="查看.ssh文件" title="查看.ssh文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-efd6ed52a0a43d80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>首先使用命令<code>cd .ssh</code>进入<code>.ssh</code>路径下，使用命令<code>ssh-keygen -t rsa -C learn -f learnfile</code>生成证书，之后所有提示输入内容直接回车跳过，最后通过<code>ls</code>查看文件夹下的文件会发现多了<code>learnfile</code>(私钥)和<code>learnfile.pub</code>(公钥)两个文件。<a href="https://upload-images.jianshu.io/upload_images/19858366-ce312b758b11787c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="创建证书(公钥文件和私钥文件)" class="fancybox"><img alt="创建证书(公钥文件和私钥文件)" title="创建证书(公钥文件和私钥文件)" data-src="https://upload-images.jianshu.io/upload_images/19858366-ce312b758b11787c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第二步：将公钥文件-learnfile-pub-上传到服务器"><a href="#第二步：将公钥文件-learnfile-pub-上传到服务器" class="headerlink" title="第二步：将公钥文件(learnfile.pub)上传到服务器"></a>第二步：将公钥文件(learnfile.pub)上传到服务器</h2><ul><li>仍保持在<code>.ssh</code>路径下，执行命令<code>scp learnfile.pub learn@你的公网ip:.</code>(不要忘记冒号和点)，然后按照提示输入learn用户的密码，等待进度达到百分之百即表示上传完成。<a href="https://upload-images.jianshu.io/upload_images/19858366-cb428dd52602ea7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="将公钥文件(learnfile.pub)上传到服务器" class="fancybox"><img alt="将公钥文件(learnfile.pub)上传到服务器" title="将公钥文件(learnfile.pub)上传到服务器" data-src="https://upload-images.jianshu.io/upload_images/19858366-cb428dd52602ea7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第三步-登录服务器进行设置"><a href="#第三步-登录服务器进行设置" class="headerlink" title="第三步:登录服务器进行设置"></a>第三步:登录服务器进行设置</h2><ul><li><p>首先使用learn用户登录服务器，<code>ls</code>命令查看文件会发现刚才上传的learnfile.pub文件，然后使用<code>ls -a</code>查看所有文件，发现没有<code>.ssh</code>文件。</p></li><li><p>通过命令<code>mkdir .ssh</code>创建<code>.ssh</code>文件夹，再次查看所有文件就会发现<code>.ssh</code>文件了，然后通过命令<code>cd .ssh</code>进入<code>.ssh</code>文件路径下，通过命令<code>touch authorized_keys</code>创建<code>authorized_keys</code>(文件名称一定不也打错，图中是错误的)文件。</p></li><li><p>通过命令<code>cd ..</code>返回.ssh的父文件夹，执行命令<code>cat learnfile.pub &gt;&gt; ~/.ssh/authorized_keys</code>将<code>learnfile.pub</code>写入<code>authorized_keys</code>文件中，写完之后我们可以通过命令 <code>rm learnfile.pub</code>删除<code>learnfile.pub</code>(公钥文件)。 <a href="https://upload-images.jianshu.io/upload_images/19858366-6084cd87ace694e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="登录服务器进行设置" class="fancybox"><img alt="登录服务器进行设置" title="登录服务器进行设置" data-src="https://upload-images.jianshu.io/upload_images/19858366-6084cd87ace694e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第四步-修改证书文件夹的权限"><a href="#第四步-修改证书文件夹的权限" class="headerlink" title="第四步:修改证书文件夹的权限"></a>第四步:修改证书文件夹的权限</h2><ul><li><p>通过命令<code>ls -al</code>查看文件的详细信息，会发现<code>.ssh</code>文件的访问权限为drwxr-xr-x，其中d表示这是个文件夹，剩下的9个字符可以分成三组rwx/r-x/r-x，每三个一组。第一组表示对于该文件夹的所有者也就是learn，可读可写可执行；第二组表示对于adminuser用户组内所有的用户可读不可写可执行；第三组表示对于除了该文件夹的所有者和adminuser用户组内所有的用户的其他用户可读不可写可执行。</p></li><li><p>我们接下来的目的是修改<code>.ssh</code>文件夹和<code>authorrized_keys</code>文件的访问权限仅对文件所有者有权限。</p></li><li><p>执行命令<code>chmod 700 .ssh</code>修改.ssh文件夹的访问权限，通过命令<code>cd .ssh</code>进入<code>.ssh</code>文件路径下，再通过命令<code>ls -al</code>查看文件的详细信息，执行命令<code>chmod 600 authorrized_keys</code>修改<code>authorrized_keys</code>文件的访问权限，最后退出服务器登录。<a href="https://upload-images.jianshu.io/upload_images/19858366-be70dc74533c99ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改证书文件夹的权限" class="fancybox"><img alt="修改证书文件夹的权限" title="修改证书文件夹的权限" data-src="https://upload-images.jianshu.io/upload_images/19858366-be70dc74533c99ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第五步-创建配置文件"><a href="#第五步-创建配置文件" class="headerlink" title="第五步:创建配置文件"></a>第五步:创建配置文件</h2><ul><li><p>退出登录后，首先我们可以通过命令<code>rm learnfile.pub</code>删除<code>learnfile.pub</code>(公钥文件)，然后创建配置文件<code>config</code>文件。</p></li><li><p>Mac用户可以直接通过命令<code>vim config</code>就可以创建并进入<code>config</code>文件，并在config文件中写入以下内容。<a href="https://upload-images.jianshu.io/upload_images/19858366-ecc5ea8eb212a9bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="config文件中写入的内容" class="fancybox"><img alt="config文件中写入的内容" title="config文件中写入的内容" data-src="https://upload-images.jianshu.io/upload_images/19858366-ecc5ea8eb212a9bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>Windows用户可以在桌面新建文本文档<code>config.txt</code>并写入以上内容。然后在PoverShell中，通过命令<code>cd Desktop</code>进入到桌面路径下，<code>ls</code>便会发现<code>config.txt</code>文件，执行命令<code>mv config.txt ~\.ssh</code>便可以将文件移动到<code>.ssh</code>文件夹下。<a href="https://upload-images.jianshu.io/upload_images/19858366-92c784a88ccee2e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="创建配置文件" class="fancybox"><img alt="创建配置文件" title="创建配置文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-92c784a88ccee2e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>Windows用户然后通过<code>cd ..</code>返回到父文件夹，再通过命令<code>cd .ssh</code>进入<code>.ssh</code>路径下，会发现存在文件<code>config.txt</code>，再通过命令<code>mv config.txt config</code>就可以将<code>config.txt</code>文件保存为<code>config</code>文件。<a href="https://upload-images.jianshu.io/upload_images/19858366-b41caeede3f98f0f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="创建配置文件" class="fancybox"><img alt="创建配置文件" title="创建配置文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-b41caeede3f98f0f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>最后我们就直接可以通过命令<code>ssh learn</code>来登录我们的远程服务器了，而且不需要输入密码。<a href="https://upload-images.jianshu.io/upload_images/19858366-f8faadd1bbe7d55b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="登录示例图" class="fancybox"><img alt="登录示例图" title="登录示例图" data-src="https://upload-images.jianshu.io/upload_images/19858366-f8faadd1bbe7d55b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4、安装数据库——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/4%E3%80%81%E5%AE%89%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/4%E3%80%81%E5%AE%89%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：安装mariadb和mariadb-server"><a href="#第一步：安装mariadb和mariadb-server" class="headerlink" title="第一步：安装mariadb和mariadb-server"></a>第一步：安装mariadb和mariadb-server</h2><ul><li>首先登陆远程服务器，使用<code>yum</code>安装<code>mariadb</code>和<code>mariadb-server</code>，执行命令<code>sudo yum -y install mariadb mariadb-server</code>来安装<code>mariadb</code>和<code>mariadb-server</code>，然后输入密码就可以直接安装了。<a href="https://upload-images.jianshu.io/upload_images/19858366-63c663ad0ede48cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装mariadb和mariadb-server" class="fancybox"><img alt="安装mariadb和mariadb-server" title="安装mariadb和mariadb-server" data-src="https://upload-images.jianshu.io/upload_images/19858366-63c663ad0ede48cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第二步：设置数据库服务"><a href="#第二步：设置数据库服务" class="headerlink" title="第二步：设置数据库服务"></a>第二步：设置数据库服务</h2><ul><li><p>首先，执行命令<code>sudo systemctl start mariadb</code>就可以成功启动数据库啦。</p></li><li><p>然后，执行命令<code>sudo systemctl enable mariadb.service</code>就设置完成数据库开机自动启动了。<a href="https://upload-images.jianshu.io/upload_images/19858366-cdd6b55d6209ffe0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="启动数据库并设置自动启动" class="fancybox"><img alt="启动数据库并设置自动启动" title="启动数据库并设置自动启动" data-src="https://upload-images.jianshu.io/upload_images/19858366-cdd6b55d6209ffe0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>接下来，我们要设置数据库root用户的密码，执行命令<code>mysql_secure_installation</code>后，系统会提示我们输入当前root用户的密码，由于我们还没有设置密码，可以回车跳过，然后提示我们是否设置root用户密码，按<code>y</code>确认，最后输入两次新密码然后一路回车就完成了(注意：本步设置的是数据库root用户密码，与服务器root用户无关)。<a href="https://upload-images.jianshu.io/upload_images/19858366-4e2486bd12ce0d5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="设置数据库root用户密码" class="fancybox"><img alt="设置数据库root用户密码" title="设置数据库root用户密码" data-src="https://upload-images.jianshu.io/upload_images/19858366-4e2486bd12ce0d5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>最后，我们就可以进入我们的数据库了，通过命令<code>mysql -u root -p</code>然后输入数据库root用户的密码我们就可以进入我们的数据库了。接下来显示的是数据库的命令行模式，我们可以输入命令<code>create database mysite;</code>(别忘了分号)，然后我们就创建了mysite的数据库，最后我们可以通过命令<code>exit;</code>退出数据库。<a href="https://upload-images.jianshu.io/upload_images/19858366-7ab199b2327b2ca3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="进入数据库" class="fancybox"><img alt="进入数据库" title="进入数据库" data-src="https://upload-images.jianshu.io/upload_images/19858366-7ab199b2327b2ca3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5、安装python3——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/5%E3%80%81%E5%AE%89%E8%A3%85python3%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/5%E3%80%81%E5%AE%89%E8%A3%85python3%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：查看python版本"><a href="#第一步：查看python版本" class="headerlink" title="第一步：查看python版本"></a>第一步：查看python版本</h2><ul><li>首先，我们远程登录服务器，由于CentOS本身是带有python的，所以我们可以通过命令<code>python --version</code>来查看当前CentOS中python的版本。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-8dae1d3481c01940.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="查看python版本" class="fancybox"><img alt="查看python版本" title="查看python版本" data-src="https://upload-images.jianshu.io/upload_images/19858366-8dae1d3481c01940.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第二步：下载并安装python3"><a href="#第二步：下载并安装python3" class="headerlink" title="第二步：下载并安装python3"></a>第二步：下载并安装python3</h2><ul><li><p>首先，我们需要使用命令<code>mkdir py3</code>在主目录下创建<code>py3</code>的文件夹，用来存放python3，然后，我们使用命令<code>cd py3</code>进入到<code>py3</code>文件夹路径中，接下来，在正式下载安装python3之前，我们还需要安装python的依赖环境，执行命令<code>sudo yum -y install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel sqlite-devel zlib-devel libffi-devel MySQL-python mysql-devel</code>就可以安装，由于要安装的依赖环境比较多，所以大家要细心一点不要落下任何一个，不然后期安装python3过程中会出现一些错误。<a href="https://upload-images.jianshu.io/upload_images/19858366-d101e519474fb147.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装python的依赖环境" class="fancybox"><img alt="安装python的依赖环境" title="安装python的依赖环境" data-src="https://upload-images.jianshu.io/upload_images/19858366-d101e519474fb147.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>接下来，我们来正式安装python，我们首先进入python的官网<a href="https://www.python.org/ftp/python/" target="_blank" rel="noopener">python的官网</a>，在这个网站中我们可以看到python的所有版本，我们找到我们需要下载的版本号。然后我们点击进入该版本的详情页，我们找到<a href="https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tgz" target="_blank" rel="noopener">Python-3.x.x.tgz</a>，然后单击鼠标右键选择<code>复制链接地址</code>。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-2dbe2dea9c523439.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="复制下载链接地址" class="fancybox"><img alt="复制下载链接地址" title="复制下载链接地址" data-src="https://upload-images.jianshu.io/upload_images/19858366-2dbe2dea9c523439.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><ul><li><p>然后，我们在<code>py3</code>路径下执行命令<code>wget 链接地址</code>就可以下载python3了，紧接着我们对下载的python3进行解压，执行解压命令<code>tar -zxvf Python-3.8.1.tgz</code>就可以进行解压，解压完成文件夹中就会多了一个文件夹<code>Python-3.8.1</code>。<a href="https://upload-images.jianshu.io/upload_images/19858366-275514593363e4d9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="下载python3" class="fancybox"><img alt="下载python3" title="下载python3" data-src="https://upload-images.jianshu.io/upload_images/19858366-275514593363e4d9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>接下来，我们要安装python3，所以我们先执行命令<code>cd /usr/local</code>进入<code>/usr/local</code>路径下，然后执行命令<code>sudo mkdir python3</code>创建一个名为<code>python3</code>的文件夹，然后通过命令<code>cd ~/py3/Python-3.8.1</code>回到路径<code>~/py3/Python-3.8.1</code>下。最后，执行命令<code>./configure --prefix=/usr/local/python3/</code>修改安装路径为<code>/usr/local/python3/</code>。<a href="https://upload-images.jianshu.io/upload_images/19858366-d9c35dc624013265.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改安装路径" class="fancybox"><img alt="修改安装路径" title="修改安装路径" data-src="https://upload-images.jianshu.io/upload_images/19858366-d9c35dc624013265.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>最后，我们先执行命令<code>make</code>对python3进行编译，再执行命令<code>sudo make install</code>来安装python3，到此python3就安装完成了。</p></li></ul><h2 id="第三步：添加python3和pip到环境变量"><a href="#第三步：添加python3和pip到环境变量" class="headerlink" title="第三步：添加python3和pip到环境变量"></a>第三步：添加python3和pip到环境变量</h2><ul><li><p>首先，我们通过命令<code>cd /usr/local/python3/</code>进入到路径<code>/usr/local/python3/</code>下，然后执行命令<code>sudo ln -s /usr/local/python3/bin/python3 /usr/bin/python3</code>创建链接，到此为止，我们就可知直接使用<code>python3</code>的命令进入<code>python3</code>环境下，接下来我们可以用命令<code>sudo ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3</code>创建链接，然后就可以使用<code>pip3</code>命令进行安装了，我们可以顺便使用<code>pip3</code>执行命令<code>sudo pip3 install mysqlclient</code>安装一下<code>mysqlclient</code>。<a href="https://upload-images.jianshu.io/upload_images/19858366-52223e0d7e30fcc0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="添加python3和pip到环境变量" class="fancybox"><img alt="添加python3和pip到环境变量" title="添加python3和pip到环境变量" data-src="https://upload-images.jianshu.io/upload_images/19858366-52223e0d7e30fcc0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>最后，我们可以通过<code>cd ~</code>回到主目录下，把主目录下的<code>py3</code>整个文件夹通过命令<code>sudo rm -rf py3</code>删除掉就可以了。<a href="https://upload-images.jianshu.io/upload_images/19858366-7d4eb5cbf4446f5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="删除py3文件夹" class="fancybox"><img alt="删除py3文件夹" title="删除py3文件夹" data-src="https://upload-images.jianshu.io/upload_images/19858366-7d4eb5cbf4446f5f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3、设置防火墙和端口——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/3%E3%80%81%E8%AE%BE%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AB%AF%E5%8F%A3%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/3%E3%80%81%E8%AE%BE%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AB%AF%E5%8F%A3%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="①设置防火墙"><a href="#①设置防火墙" class="headerlink" title="①设置防火墙"></a>①设置防火墙</h1><h2 id="第一步：更新yum功能"><a href="#第一步：更新yum功能" class="headerlink" title="第一步：更新yum功能"></a>第一步：更新yum功能</h2><ul><li><p>远程登录服务器，执行命令<code>yum update</code>可以进行更新，但是此时登录的是learn账户，会显示没有root权限，所以我们执行命令<code>sudo yum update</code>进行更新，其中<code>sudo</code>的意思是后面的命令会以超级管理员的身份执行，然后输入learn账户的密码就可以进行更新，但执行过程中会提示我们是否继续更新，输入<code>y</code>即可继续更新。</p></li><li><p>我们也可以通过命令<code>sudo yum -y update</code>进行更新，<code>-y</code>表示如果更新过程中需要我们输入<code>y</code>继续的话，系统会自动输入，不用我们手动输入。<a href="https://upload-images.jianshu.io/upload_images/19858366-e5222c114bc360de.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="更新yum功能" class="fancybox"><img alt="更新yum功能" title="更新yum功能" data-src="https://upload-images.jianshu.io/upload_images/19858366-e5222c114bc360de.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第二步：使用yum安装插件并启动服务"><a href="#第二步：使用yum安装插件并启动服务" class="headerlink" title="第二步：使用yum安装插件并启动服务"></a>第二步：使用yum安装插件并启动服务</h2><ul><li>learn用户使用<code>yum</code>安装插件都需要添加<code>sudo</code>以超级管理员身份执行命令，执行命令<code>sudo yum install -y cronie yum-cron</code>安装<code>cronie</code>和<code>yum-cron</code>插件。<a href="https://upload-images.jianshu.io/upload_images/19858366-70b9bfaa6b2cf6d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="使用yum安装插件" class="fancybox"><img alt="使用yum安装插件" title="使用yum安装插件" data-src="https://upload-images.jianshu.io/upload_images/19858366-70b9bfaa6b2cf6d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><ul><li><p>learn用户使用<code>vim</code>安装插件都需要添加<code>sudo</code>以超级管理员身份执行命令，执行命令<code>sudo vim /etc/yum/yum-cron.conf</code>打开配置文件<code>yum-cron.conf</code>，并将配置文件中的<code>apply_updates = no</code>改为<code>apply_updates = yes</code>，目的是打开自动更新功能。<a href="https://upload-images.jianshu.io/upload_images/19858366-2d29510ae15baec2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改配置文件yum-cron.conf" class="fancybox"><img alt="修改配置文件yum-cron.conf" title="修改配置文件yum-cron.conf" data-src="https://upload-images.jianshu.io/upload_images/19858366-2d29510ae15baec2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>执行命令<code>sudo systemctl start crond</code>和命令 <code>sudo systemctl start yum-cron</code>启动<code>crond</code>和<code>yum-cron</code>服务。<a href="https://upload-images.jianshu.io/upload_images/19858366-69c6831f793327fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="启动crond和yum-cron服务" class="fancybox"><img alt="启动crond和yum-cron服务" title="启动crond和yum-cron服务" data-src="https://upload-images.jianshu.io/upload_images/19858366-69c6831f793327fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第三步：使用yum安装并启动防火墙服务"><a href="#第三步：使用yum安装并启动防火墙服务" class="headerlink" title="第三步：使用yum安装并启动防火墙服务"></a>第三步：使用yum安装并启动防火墙服务</h2><ul><li><p>执行命令<code>sudo yum install -y firewalld</code>安装防火墙，如果已经安装它会显示已安装并且是最新版本无需任何处理。</p></li><li><p>然后执行命令<code>sudo systemctl start firewalld.service</code>启动防火墙服务，并通过命令<code>sudo firewall-cmd --list-all</code>来查看防火墙状态。(关于服务器的更多操作命令，可以查看我之前的文章：<a href="https://www.jianshu.com/p/3fd584cadfef" target="_blank" rel="noopener">《CentOS7使用firewalld打开关闭防火墙与端口》</a>)<a href="https://upload-images.jianshu.io/upload_images/19858366-f3dbd5f72c8766bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装并启动防火墙服务" class="fancybox"><img alt="安装并启动防火墙服务" title="安装并启动防火墙服务" data-src="https://upload-images.jianshu.io/upload_images/19858366-f3dbd5f72c8766bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h1 id="②设置端口"><a href="#②设置端口" class="headerlink" title="②设置端口"></a>②设置端口</h1><h2 id="第一步-修改ssh相关的配置文件"><a href="#第一步-修改ssh相关的配置文件" class="headerlink" title="第一步:修改ssh相关的配置文件"></a>第一步:修改ssh相关的配置文件</h2><ul><li><p>执行命令<code>sudo vim /etc/ssh/sshd_config</code>打开配置文件<code>sshd_config</code>，找到<code>#Port 22</code>所在的一行，并修改为<code>Port 12345</code>(此处端口可以修改为<code>1024-65535</code>之间的端口均可)，最后保存并退出。<a href="https://upload-images.jianshu.io/upload_images/19858366-4b2ea121cf7fc016.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改sshd_config配置文件" class="fancybox"><img alt="修改sshd_config配置文件" title="修改sshd_config配置文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-4b2ea121cf7fc016.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>执行命令<code>sudo cp /usr/lib/firewalld/services/ssh.xml /etc/firewalld/services/</code>将防火墙中关于ssh的配置文件拷贝出来，然后执行<code>sudo vim /etc/firewalld/services/ssh.xml</code>打开配置文件<code>ssh.xml</code>，然后找到 <code>port=&quot;22&quot;</code>并修改为 <code>port=&quot;12345&quot;</code>，最后保存并退出。<a href="https://upload-images.jianshu.io/upload_images/19858366-a9601dbc68bfa5c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改ssh.xml配置文件" class="fancybox"><img alt="修改ssh.xml配置文件" title="修改ssh.xml配置文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-a9601dbc68bfa5c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第二步-修改安全组中的配置规则"><a href="#第二步-修改安全组中的配置规则" class="headerlink" title="第二步:修改安全组中的配置规则"></a>第二步:修改安全组中的配置规则</h2><p><a href="https://upload-images.jianshu.io/upload_images/19858366-7e129f68ab0653c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安全组的配置规则" class="fancybox"><img alt="安全组的配置规则" title="安全组的配置规则" data-src="https://upload-images.jianshu.io/upload_images/19858366-7e129f68ab0653c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p><p><a href="https://upload-images.jianshu.io/upload_images/19858366-2aac5cfbe5c96573.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="添加安全组规则" class="fancybox"><img alt="添加安全组规则" title="添加安全组规则" data-src="https://upload-images.jianshu.io/upload_images/19858366-2aac5cfbe5c96573.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p><h2 id="第三步：重启防火墙服务和sshd服务"><a href="#第三步：重启防火墙服务和sshd服务" class="headerlink" title="第三步：重启防火墙服务和sshd服务"></a>第三步：重启防火墙服务和sshd服务</h2><ul><li><p>重启防火墙需要在浏览器，因为重启防火墙和ssh服务，这两个服务重启会导致与本地断开连接。<a href="https://upload-images.jianshu.io/upload_images/19858366-5a0f69624c5ced50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="image.png" class="fancybox"><img alt="image.png" title="image.png" data-src="https://upload-images.jianshu.io/upload_images/19858366-5a0f69624c5ced50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>首先登陆learn用户，然后输入命令<code>sudo systemctl restart sshd.service</code>重启sshd服务，输入命令<code>sudo systemctl restart firewalld.service</code>重启防火墙服务。最后输入<code>exit</code>命令执行退出登录。<a href="https://upload-images.jianshu.io/upload_images/19858366-dedc4b700ca249e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="重启防火墙服务和sshd服务" class="fancybox"><img alt="重启防火墙服务和sshd服务" title="重启防火墙服务和sshd服务" data-src="https://upload-images.jianshu.io/upload_images/19858366-dedc4b700ca249e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第四步：修改本地config配置文件"><a href="#第四步：修改本地config配置文件" class="headerlink" title="第四步：修改本地config配置文件"></a>第四步：修改本地config配置文件</h2><ul><li><p>首先打开电脑终端PowerShell，输入<code>cd .ssh</code>进入<code>.ssh</code>路径下。Mac用户可直接输入命令<code>vim config</code>修改<code>config</code>配置文件，将端口号改为<code>12345</code>；Windows用户则直接输入命令<code>notepad config</code>修改<code>config</code>配置文件，将端口号改为<code>12345</code>。<a href="https://upload-images.jianshu.io/upload_images/19858366-ae160e2bc17eab76.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改本地config配置文件" class="fancybox"><img alt="修改本地config配置文件" title="修改本地config配置文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-ae160e2bc17eab76.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>最后，我们又可以通过命令<code>ssh learn</code>登录远程服务器啦！<a href="https://upload-images.jianshu.io/upload_images/19858366-f8faadd1bbe7d55b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="重新登录测试" class="fancybox"><img alt="重新登录测试" title="重新登录测试" data-src="https://upload-images.jianshu.io/upload_images/19858366-f8faadd1bbe7d55b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6、安装测试Django——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/6%E3%80%81%E5%AE%89%E8%A3%85%E6%B5%8B%E8%AF%95Django%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/6%E3%80%81%E5%AE%89%E8%A3%85%E6%B5%8B%E8%AF%95Django%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：安装Django"><a href="#第一步：安装Django" class="headerlink" title="第一步：安装Django"></a>第一步：安装Django</h2><ul><li>首先，我们登录服务器，然后使用<code>pip3</code>来进行安装，每次learn账户使用<code>pip3</code>命令需要<code>sudo</code>以超级管理员身份来执行，执行命令<code>sudo pip3 install django</code>就可以将Django安装成功啦！<a href="https://upload-images.jianshu.io/upload_images/19858366-ffdc60c552e5bd1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装Django" class="fancybox"><img alt="安装Django" title="安装Django" data-src="https://upload-images.jianshu.io/upload_images/19858366-ffdc60c552e5bd1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第二步：将django-admin添加到环境变量"><a href="#第二步：将django-admin添加到环境变量" class="headerlink" title="第二步：将django-admin添加到环境变量"></a>第二步：将django-admin添加到环境变量</h2><ul><li>我们执行命令<code>sudo ln -s /usr/local/python3/bin/django-admin /usr/bin</code>创建链接，然后我们就可以使用<code>django-admin</code>命令了。<a href="https://upload-images.jianshu.io/upload_images/19858366-efd3571d08e92c7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="将django-admin添加到环境变量" class="fancybox"><img alt="将django-admin添加到环境变量" title="将django-admin添加到环境变量" data-src="https://upload-images.jianshu.io/upload_images/19858366-efd3571d08e92c7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第三步：创建Django项目"><a href="#第三步：创建Django项目" class="headerlink" title="第三步：创建Django项目"></a>第三步：创建Django项目</h2><ul><li><p>首先，我们执行命令<code>cd /home/</code>进入到<code>/home/</code>路径下；然后，执行命令<code>sudo mkdir programs</code>创建一个文件夹<code>programs</code>用来存放我们的Django项目，通过命令<code>cd programs</code>进入<code>programs</code>路径下；最后，执行命令<code>sudo django-admin startproject mysite</code>创建Django项目，我们就成功创建了mysite的Django项目。<a href="https://upload-images.jianshu.io/upload_images/19858366-df5887eb9973b484.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="创建Django项目" class="fancybox"><img alt="创建Django项目" title="创建Django项目" data-src="https://upload-images.jianshu.io/upload_images/19858366-df5887eb9973b484.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>为了方便查看项目的目录结构，我们要用<code>yum</code>来安装一个工具<code>tree</code>，执行命令<code>sudo yum -y install tree</code>进行安装。安装完成后，我们就可以通过<code>tree</code>命令来查看我们项目的目录结构，命令行就会以树状结构显示我们当前文件夹下所有内容以及子文件夹的内容。<a href="https://upload-images.jianshu.io/upload_images/19858366-1f115d148cd53f03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装tree" class="fancybox"><img alt="安装tree" title="安装tree" data-src="https://upload-images.jianshu.io/upload_images/19858366-1f115d148cd53f03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>接下来，我们写一个简单地Django项目，测试一下我们安装的Django。首先，我们通过命令<code>cd mysite/mysite/</code>进入到<code>mysite/mysite/</code>路径下；然后，使用命令<code>sudo vim views.py</code>来创建一个<code>views.py</code>文件，并按照图示写入相关内容(其中<code>from</code>和<code>import</code>没有显示出来)；使用命令<code>sudo vim urls.py</code>进入<code>urls.py</code>文件中并修改部分图示内容(其中<code>from</code>和<code>import</code>没有显示出来)；使用命令使用命令<code>sudo vim settings.py</code>进入<code>settings.py</code>文件中，找到<code>ALLOWED_HOSTS = []</code>一行代码，然后修改为<code>ALLOWED_HOSTS = [&#39;localhost&#39;,&#39;你的公网ip&#39;]</code>在找到<code>DATABASES</code>也就是数据库相关的代码修改为如图所示。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-cd2f0929c4664636.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="写一个简单地Django项目" class="fancybox"><img alt="写一个简单地Django项目" title="写一个简单地Django项目" data-src="https://upload-images.jianshu.io/upload_images/19858366-cd2f0929c4664636.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a><br><a href="https://upload-images.jianshu.io/upload_images/19858366-4b68a48b131ad5b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="views.py文件" class="fancybox"><img alt="views.py文件" title="views.py文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-4b68a48b131ad5b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a><br><a href="https://upload-images.jianshu.io/upload_images/19858366-edf5866db0d8d148.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="urls.py文件" class="fancybox"><img alt="urls.py文件" title="urls.py文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-edf5866db0d8d148.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a><br><a href="https://upload-images.jianshu.io/upload_images/19858366-f149b8064c5cccc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="settings.py文件" class="fancybox"><img alt="settings.py文件" title="settings.py文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-f149b8064c5cccc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>最后，我们需要通过命令<code>cd ..</code>返回父目录，然后执行命令<code>sudo python3 manage.py migrate</code>进行迁移数据库，迁移完成之后，我们可以通过命令<code>sudo python3 manage.py runserver 0.0.0.0:80</code>启动我们的项目，在浏览器直接输入我们的公网ip就可以查看我们的项目了，最后，可以通过<code>Ctrl + C</code>退出我们的项目。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-315d1a74867ce497.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="启动Django项目" class="fancybox"><img alt="启动Django项目" title="启动Django项目" data-src="https://upload-images.jianshu.io/upload_images/19858366-315d1a74867ce497.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7、配置Django项目——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/7%E3%80%81%E9%85%8D%E7%BD%AEDjango%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/7%E3%80%81%E9%85%8D%E7%BD%AEDjango%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：安装SFTP"><a href="#第一步：安装SFTP" class="headerlink" title="第一步：安装SFTP"></a>第一步：安装SFTP</h2><ul><li>首先，在桌面新建文件夹<code>mysite</code>，然后在VS Code中打开该文件夹，并按照相应操作安装<code>SFTP</code>，安装完成后，重启VS Code。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-7f6219ca2ca7cca5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装sftp" class="fancybox"><img alt="安装sftp" title="安装sftp" data-src="https://upload-images.jianshu.io/upload_images/19858366-7f6219ca2ca7cca5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第二步：修改文件夹权限"><a href="#第二步：修改文件夹权限" class="headerlink" title="第二步：修改文件夹权限"></a>第二步：修改文件夹权限</h2><ul><li>由于，我们使用learn用户对项目文件修改需要root权限，所以我们需要修改项目所在文件夹的访问权限。首先，我们使用learn用户远程登录服务器；然后，通过命令<code>cd /home/programs/</code>进入到<code>/home/programs/</code>路径下，我们可以通过<code>ls -al</code>查看文件的详细信息；最后，我们使用命令<code>sudo chown -R learn mysite</code>修改<code>mysite</code>文件夹及文件夹内所有文件的所有者。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-1f24abe4f5dda6f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改文件夹权限" class="fancybox"><img alt="修改文件夹权限" title="修改文件夹权限" data-src="https://upload-images.jianshu.io/upload_images/19858366-1f24abe4f5dda6f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第三步：同步本地和服务器"><a href="#第三步：同步本地和服务器" class="headerlink" title="第三步：同步本地和服务器"></a>第三步：同步本地和服务器</h2><ul><li><p>首先，按<code>Ctrl + Shift + P</code>或者在上方<code>View</code>选项中选择<code>Command Palette</code>进入命令面板，然后在命令面板中输入命令<code>SFTP:Config</code>，然后VS Code就会给我们自动正在<code>.vscode</code>文件夹中创建一个<code>sftp.json</code>的文件(如果没有显示的话可以刷新一下)。</p></li><li><p>接下来，我们要对<code>sftp.json</code>文件中的一些键值对进行设置，其中对一些键值也对进行说明，修改完后别忘了按<code>Ctrl + S</code>进行保存一下。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-10b63eb3eb7b5f6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="修改sftp.json文件" class="fancybox"><img alt="修改sftp.json文件" title="修改sftp.json文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-10b63eb3eb7b5f6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><ul><li><p>键值对<code>&quot;host&quot;</code>后填写的是你服务器的公网ip。</p></li><li><p>键值对<code>&quot;port&quot;</code>后填写的端口号默认为<code>22</code>，但是由于我在之前修改了端口号为<code>12345</code>，所以我填写的端口号为<code>12345</code>。</p></li><li><p>键值对<code>&quot;username&quot;</code>后需要填写的是我们用来登录的用户名。</p></li><li><p>键值对<code>&quot;password&quot;</code>和键值对<code>&quot;privateKeyPath&quot;</code>两个需要自己进行创建，其中键值对<code>&quot;password&quot;</code>后需要填写用户密码，由于密码为明文，所以不是很安全，而键值对<code>&quot;privateKeyPath&quot;</code>后需要填写的是我们之前创建的私钥<code>learnfile</code>的路径，而这两个键值对只要添加一个就可以，也就是密码登录或者私钥登录均可。</p></li><li><p>键值对<code>&quot;ignore&quot;</code>需要自己创建，其后是一个列表，列表中包括一些同步过程中忽视同步的文件和文件夹。例如：<code>.vscode</code>文件夹内保存的使我们的本地配置文件，只需要存在本地即可，不需要从本地同步到服务器；<code>__pycache__</code>文件夹内保存的是python编译后的文件，只需要存在于服务器即可，不需要从服务器同步到本地。</p></li><li><p>键值对<code>&quot;syncOption&quot;</code>需要自己创建，其后是一个字典，字典中我们添加了一个<code>&quot;delete&quot;: true</code>的键值对，意思是，原本服务器为了防止本地误删文件，所以添加文件可以同步到服务器，删除文件无法同步到服务器，添加了此键值对后，删除的文件也可以同步到服务器，使服务器对应的文件也会删除。此键值对是否添加，完全取决于个人意愿。</p></li><li><p>键值对<code>&quot;watcher&quot;</code>需要自己创建，其后也是一个字典，由于每次对文件操作完成后，都需要右键选择同步本地到服务器或者同步服务器到本地，所以我们添加此键值对是为了方便，让系统监视我们所有操作，自动同步本地到服务器或者同步服务器到本地，字典中的默认键值对<code>&quot;autoUpload&quot;: true</code>表示我们修改或者添加文件都会自动同步到服务器上，默认键值对<code>&quot;autoDelete&quot;: false</code>则表示我们删除文件不会自动同步到服务器上，我们可以将<code>false</code>修改为<code>true</code>，当然也可以不修改。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> SFTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8、设置Nginx和uWSGI——Django项目部署到阿里云服务器</title>
      <link href="/2020/03/08/8%E3%80%81%E8%AE%BE%E7%BD%AENginx%E5%92%8CuWSGI%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2020/03/08/8%E3%80%81%E8%AE%BE%E7%BD%AENginx%E5%92%8CuWSGI%E2%80%94%E2%80%94Django%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一步：安装Nginx和uWSGI"><a href="#第一步：安装Nginx和uWSGI" class="headerlink" title="第一步：安装Nginx和uWSGI"></a>第一步：安装Nginx和uWSGI</h2><ul><li>首先，我们需要先登录远程服务器；然后，我们使用命令<code>sudo pip3 install uwsgi</code>安装<code>uWSGI</code>；接下来，我们需要给<code>uWSGI</code>创建一个链接，执行命令<code>sudo ln -s /usr/local/python3/bin/uwsgi /usr/bin/uwsgi3</code>来创建一个链接，我们就完成了<code>uWSGI</code>安装和设置工作；最后，我们使用命令<code>sudo yum -y install nginx</code>安装<code>Nginx</code>，安装完成后，我们就可以退出远程登录了。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-b895f48e39acb100.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="安装Nginx和uWSGI" class="fancybox"><img alt="安装Nginx和uWSGI" title="安装Nginx和uWSGI" data-src="https://upload-images.jianshu.io/upload_images/19858366-b895f48e39acb100.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第二步：配置settings-py文件"><a href="#第二步：配置settings-py文件" class="headerlink" title="第二步：配置settings.py文件"></a>第二步：配置settings.py文件</h2><ul><li><p>首先，我们用VS Code打开<code>mysite</code>这个文件夹；然后，打开<code>setiings.py</code>文件进行一些设置。</p></li><li><p>我们要将<code>DEBUG = True</code>修改为<code>DEBUG = False</code>；然后，找到<code>TEMPLATES</code>并将里面的<code>&#39;DIRS&#39;: []</code>修改为<code>&#39;DIRS&#39;: [os.path.join(BASE_DIR, &#39;templates&#39;),]</code>，并在主目录下创建名为<code>templates</code>的文件夹；最后，我们要在文件的末尾加上两行代码，分别是<code>STATIC_ROOT = os.path.join(BASE_DIR, &#39;../collected_static&#39;)</code>和<code>STATICFILES_DIRS = (os.path.join(BASE_DIR, &#39;static&#39;),)</code>两行代码，并在主目录下创建名为<code>static</code>的文件夹，按<code>Ctrl + S</code>保存对<code>settings.py</code>文件的修改。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-547d684c44093ff4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="配置settings.py文件" class="fancybox"><img alt="配置settings.py文件" title="配置settings.py文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-547d684c44093ff4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li><li><p>然后，回到终端，登录远程服务器，执行命令<code>cd /home/programs/</code>进入到<code>/home/programs/</code>路径下，然后执行命令<code>sudo mkdir collected_static</code>创建一个名为<code>collected_static</code>的文件夹；最后，我们通过命令<code>cd mysite</code>进入项目主目录，执行命令<code>sudo python3 manage.py collectstatic</code>打包静态文件到<code>collected_static</code>文件夹中，打包完成后退出服务器。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-651dbb538c03e987.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="打包静态文件" class="fancybox"><img alt="打包静态文件" title="打包静态文件" data-src="https://upload-images.jianshu.io/upload_images/19858366-651dbb538c03e987.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></p></li></ul><h2 id="第三步：配置uWSGI"><a href="#第三步：配置uWSGI" class="headerlink" title="第三步：配置uWSGI"></a>第三步：配置uWSGI</h2><ul><li>在项目主目录下创建<code>uwsgi.ini</code>文件，然后在<code>uwsgi.ini</code>中写入图示代码，按<code>Ctrl + S</code>保存对<code>uwsgi.ini</code>文件的修改，并在主目录下创建名为<code>uwsgi</code>的文件夹。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-56669643f7e6bf85.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="配置uWSGI" class="fancybox"><img alt="配置uWSGI" title="配置uWSGI" data-src="https://upload-images.jianshu.io/upload_images/19858366-56669643f7e6bf85.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 复制以下代码即可</span><br><span class="line">[uwsgi]</span><br><span class="line">socket &#x3D; 127.0.0.1:8080</span><br><span class="line">chdir &#x3D; &#x2F;home&#x2F;programs&#x2F;mysite</span><br><span class="line">module &#x3D; mysite.wsgi</span><br><span class="line">master &#x3D; ture</span><br><span class="line">processes &#x3D; 1</span><br><span class="line">threads &#x3D; 2</span><br><span class="line">max-requests &#x3D; 2000</span><br><span class="line">chmod-socket &#x3D; 664</span><br><span class="line">vacuum &#x3D; ture</span><br><span class="line"></span><br><span class="line">stats &#x3D; %(chdir)&#x2F;uwsgi&#x2F;uwsgi.status</span><br><span class="line">pidfile &#x3D; %(chdir)&#x2F;uwsgi&#x2F;uwsgi.pid</span><br><span class="line">daemonize &#x3D; %(chdir)&#x2F;uwsgi&#x2F;uwsgi.log</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="第四步：配置Nginx"><a href="#第四步：配置Nginx" class="headerlink" title="第四步：配置Nginx"></a>第四步：配置Nginx</h2><ul><li>首先，我们再次登录远程服务器，执行命令<code>sudo vim /etc/nginx/nginx.conf</code>进入<code>nginx.conf</code>配置文件内，先删除<code>server</code>上面的一行代码，然后在修改<code>server</code>内的代码内容即可。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-be05bd4d84d75ab3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="配置Nginx" class="fancybox"><img alt="配置Nginx" title="配置Nginx" data-src="https://upload-images.jianshu.io/upload_images/19858366-be05bd4d84d75ab3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 复制以下代码即可</span><br><span class="line"> server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name localhost;</span><br><span class="line">        charset utf-8;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">                uwsgi_pass 127.0.0.1:8000;</span><br><span class="line">                include &#x2F;etc&#x2F;nginx&#x2F;uwsgi_params;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location &#x2F;static &#123;</span><br><span class="line">                alias &#x2F;home&#x2F;programs&#x2F;collected_static&#x2F;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 404 &#x2F;404.html;</span><br><span class="line">            location &#x3D; &#x2F;40x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 500 502 503 504 &#x2F;50x.html;</span><br><span class="line">            location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><h2 id="第五步：启动Nginx和uWSGI"><a href="#第五步：启动Nginx和uWSGI" class="headerlink" title="第五步：启动Nginx和uWSGI"></a>第五步：启动Nginx和uWSGI</h2><ul><li>首先，通过指令<code>cd /home/programs/mysite/</code>进入到<code>/home/programs/mysite/</code>路径下。</li><li>然后，执行命令<code>sudo uwsgi3 --ini uwsgi.ini</code>启动<code>uWSGI</code>。</li><li>接下来，执行命令<code>sudo systemctl start nginx</code>启动<code>Nginx</code>。</li><li>最后，我们可以在浏览器中输入我们的<code>公网ip</code>就可以查看我们的项目啦！<br><a href="https://upload-images.jianshu.io/upload_images/19858366-49289a7131170cff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="启动Nginx和uWSGI" class="fancybox"><img alt="启动Nginx和uWSGI" title="启动Nginx和uWSGI" data-src="https://upload-images.jianshu.io/upload_images/19858366-49289a7131170cff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul><h2 id="第六步：更新Django项目"><a href="#第六步：更新Django项目" class="headerlink" title="第六步：更新Django项目"></a>第六步：更新Django项目</h2><ul><li>当我们对我们的项目进行更改是，网页内容不会发生变化，此时我们需要重启我们的<code>uWSGI</code>服务。首先，登录远程服务器；然后，通过命令<code>cd /home/programs/mysite/uwsgi</code>进入到<code>/home/programs/mysite/uwsgi</code>路径下；最后，执行命令<code>sudo uwsgi3 --reload uwsgi.pid</code>即可重启我们的<code>uWSGI</code>服务。<br><a href="https://upload-images.jianshu.io/upload_images/19858366-771db904cdb09e84.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-fancybox="group" data-caption="重启uWSGI" class="fancybox"><img alt="重启uWSGI" title="重启uWSGI" data-src="https://upload-images.jianshu.io/upload_images/19858366-771db904cdb09e84.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></a></li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> Django </category>
          
          <category> 项目部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> 项目部署 </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> Nginx </tag>
            
            <tag> uWSGI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/03/07/hello-world/"/>
      <url>/2020/03/07/hello-world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hello World </tag>
            
            <tag> Markdowm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
